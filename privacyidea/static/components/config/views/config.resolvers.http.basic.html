<!--
(c) NetKnights GmbH 2024,  https://netknights.it
This code is free software; you can redistribute it and/or
modify it under the terms of the GNU AFFERO GENERAL PUBLIC LICENSE
as published by the Free Software Foundation; either
version 3 of the License, or any later version.
This code is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU AFFERO GENERAL PUBLIC LICENSE for more details.
You should have received a copy of the GNU Affero General Public
License along with this program.  If not, see <http://www.gnu.org/licenses/>.

SPDX-License-Identifier: AGPL-3.0-or-later
-->
<div class="form-group">

        <div class="form-group row">
            <label for="resolverurl" class="col-sm-3 control-label text-right" translate>Endpoint (URL)</label>
            <div class="col-sm-9">
                <input type="url" id="resolverurl" class="form-control" ng-model="params.endpoint"
                       required
                       placeholder="http://example.com/path/to/users/:userid"/>
            </div>
        </div>

        <div class="form-group row">
            <label for="resolvermethod" class="col-sm-3 control-label text-right" translate>Method</label>
            <div class="col-sm-9">
                <select id="resolvermethod" ng-model="params.method" class="form-control" required>
                    <option value="get">GET</option>
                    <option value="post">POST</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label for="requestmapping" class="col-sm-3 control-label text-right" translate>Request Mapping (JSON
                format)</label>
            <div class="col-sm-9">
                <input type="text" name="requestmapping" id="requestmapping" ng-model="params.requestMapping"
                       placeholder='{"customerid": "{userid}", "accessKey": "secr3t!"}' class="form-control" required/>
            </div>
        </div>

        <div class="form-group row">
            <label for="headers" class="col-sm-3 control-label text-right" translate>Headers (JSON format)</label>
            <div class="col-sm-9">
                <input type="text" name="headers" id="headers" ng-model="params.headers"
                       placeholder='{"Content-Type": "application/json; charset=UTF-8"}' class="form-control" required/>
            </div>
        </div>

        <div class="form-group row">
            <label for="responsemapping" class="col-sm-3 control-label text-right" translate>Response Mapping
                (JSON format)</label>
            <div class="col-sm-9">
                <input type="text" name="responsemapping" id="responsemapping" ng-model="params.responseMapping"
                       placeholder='{"username": "{Username}", "email": "{Email}"}' class="form-control" required/>
            </div>
        </div>

        <div class="form-group row">
            <label for="hasSpecialErrorHandler" class="col-sm-3 control-label text-right" translate>Special Error
                Handling</label>
            <div class="col-sm-3">
                <input type="checkbox" name="hasSpecialErrorHandler" id="hasSpecialErrorHandler"
                       ng-model="params.hasSpecialErrorHandler"/>
            </div>
        </div>
        <div class="form-group row" ng-if="params.hasSpecialErrorHandler">
            <label for="errorResponse" class="col-sm-3 control-label text-right" translate>Response contains (JSON
                format):</label>
            <div class="col-sm-9">
                <input type="text" name="errorResponse" id="errorResponse" ng-model="params.errorResponse"
                       placeholder='{"success": false, "message": "An error occurred!"}' class="form-control" required/>
            </div>
        </div>
        <div class="text-center" ng-show="showResult">
            <label class="label" ng-class="{'label-success':result.result,
                       'label-danger':!result.result}">
                {{ result.description }}<span class="glyphicon glyphicon-remove" ng-click="showResult=false"></span>
            </label>
        </div>
</div>