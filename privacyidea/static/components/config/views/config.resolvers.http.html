<div>

    <h2 class="form-signin-heading" ng-show="edit">
        <translate>Edit</translate> {{ typeMapping[params.type] }} {{ resolvername }}
    </h2>

    <h2 class="form-signin-heading" ng-hide="edit" translate>Create a new {{ typeMapping[params.type] }}</h2>

    <div class="form-group" ng-hide="edit">
            <button class="btn btn-default" ng-click="toggleAdvancedSettings()" ng-hide="advancedSettings" translate>
                Advanced Settings
            </button>
            <button class="btn btn-default" ng-click="toggleAdvancedSettings()" ng-show="advancedSettings" translate>
                Basic Settings
            </button>
            <button class="btn btn-default" ng-click="params.type = 'entraidresolver'">
                EntraID
            </button>
            <button class="btn btn-default" ng-click="params.type = 'keycloakresolver'">
                Keycloak
            </button>
        </div>

    <form name="formResolverAddHttp" role="form" validate>

        <div class="form-group row" ng-hide="edit">
            <label for="resolvername" class="col-sm-3 control-label text-right" translate>Resolver name</label>

            <div class="col-sm-9">
                <input name="resolvername" id="resolvername" class="form-control" ng-model="resolvername" required
                       placeholder="resolver1" pattern="{{ inputNamePatterns.withoutTest.pattern }}"
                       title="{{ inputNamePatterns.withoutTest.title | translate }}" autofocus/>
            </div>
        </div>

        <div class="form-group" ng-if="!advancedSettings" ng-include="'/static/components/config/views/config.resolvers.http.basic.html'">
        </div>
        <div class="form-group" ng-if="advancedSettings" ng-include="'/static/components/config/views/config.resolvers.http.advanced.html'">
        </div>

        <div class="container-fluid">
            <div class="form-group pull-right">
                <table class="table-responsive table-transparent">
                    <tr>
                        <td><label class="control-label" for="testUsername" translate>Test username</label></td>
                        <td><label class="control-label" for="testUserid" translate>Test user ID</label></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td><input name="testUsername" class="form-control" ng-model="testUser.username"
                                placeholder="foo@bar.com"/></td>
                        <td><input id="testUserid" class="form-control" ng-model="testUser.userid"
                                placeholder="foo@bar.com"/></td>
                        <td><button ng-click="testResolver()" ng-disabled="formResolverAddHttp.$invalid" class="btn btn-success"
                        translate>
                            Test HTTP Resolver
                        </button></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td><div class="form-group"></div></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td>
                            <div class="form-group text-right">
                            <button ng-click="setResolver()" ng-show="checkRight('resolverwrite')"
                            ng-disabled="formResolverAddHttp.$invalid" class="btn btn-primary" translate>Save resolver
                            </button>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

    </form>

</div>