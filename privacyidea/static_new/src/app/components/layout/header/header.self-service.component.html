<div class="header-container">
  <div class="brand">
    <img
      alt="logo"
      aria-label="Logo"
      class="logo"
      height="307"
      i18n-alt
      i18n-aria-label
      ngSrc="assets/privacyIDEA1.png"
      ngSrcset="1x"
      sizes="(max-width: 307px) 100vw, 307px"
      width="307" />
  </div>
  <div class="nav-div">
    <nav class="nav-menu">
      <div
        [ngClass]="[
          sessionTimerService.remainingTime()! < 31000
            ? 'red-light'
            : sessionTimerService.remainingTime()! < 60000
              ? 'yellow-light'
              : 'surface-highest'
        ]"
        class="session-timer-selfservice">
        @if (sessionTimerService.remainingTime()! < 60000) {
          {{ sessionTimerService.remainingTime() | date: "mm:ss" }}
        } @else if (sessionTimerService.remainingTime()! >= 60000 && sessionTimerService.remainingTime()! < 600000) {
          {{ sessionTimerService.remainingTime() | date: "m" }}min
        } @else {
          {{ sessionTimerService.remainingTime() | date: "mm" }}min
        }
      </div>
    </nav>
    <app-theme-switcher />
    <button
      (click)="refreshPage()"
      class="refresh-btn"
      mat-fab>
      <mat-icon>refresh</mat-icon>
    </button>
    <div class="profile-div">
      <h4
        class="preview"
        i18n>
        Preview
      </h4>
      <div class="profile-logout-div flex-row">
        <a
          aria-label="Support"
          class="support-btn"
          extended
          href="https://netknights.it/support_link_admin"
          i18n-aria-label
          mat-fab
          target="_blank">
          <mat-icon>support_agent</mat-icon>
          <h4 i18n>Support</h4>
        </a>
        <button
          #trigger="matMenuTrigger"
          [class.active]="trigger.menuOpen"
          [matMenuTriggerFor]="profileMenu"
          class="profile-btn"
          extended
          mat-fab>
          <mat-menu #profileMenu="matMenu">
            <app-user-self-service />
          </mat-menu>
          <mat-icon>account_box</mat-icon>
          <h4>{{ profileText }}</h4>
        </button>
        <button
          (click)="logout()"
          aria-label="Logout"
          class="logout-btn"
          i18n-aria-label
          mat-icon-button>
          <mat-icon>logout</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
